<script>
  export let data;
  export let form;
  let selectedQ1 = form?.q1 || '';
</script>

<h1>üíß ‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥</h1>

{#if form?.errors}
  <p class="error">‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
{/if}

{#if form?.success}
  <div class="success-message">‚úÖ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</div>
{/if}

<form method="POST" enctype="multipart/form-data" action="?/submit">
  <div class="card">
    <p>Q1: ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏π‡∏Å‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏´‡∏ô?</p>
    <select name="q1" bind:value={selectedQ1} required>
      <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
      <option value="‡∏ô‡πâ‡∏≥‡∏ö‡∏≤‡∏î‡∏≤‡∏•">‡∏ô‡πâ‡∏≥‡∏ö‡∏≤‡∏î‡∏≤‡∏•</option>
      <option value="‡∏Ñ‡∏•‡∏≠‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞">‡∏Ñ‡∏•‡∏≠‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞</option>
      <option value="‡∏ô‡πâ‡∏≥‡∏ù‡∏ô">‡∏ô‡πâ‡∏≥‡∏ù‡∏ô</option>
      <option value="‡∏ô‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏õ‡∏≤">‡∏ô‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏õ‡∏≤</option>
      <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
    </select>
    {#if form?.errors?.q1}<div class="error">{form.errors.q1}</div>{/if}
  </div>

  {#if selectedQ1 === '‡∏≠‡∏∑‡πà‡∏ô‡πÜ'}
    <div class="card">
      <p>‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ô‡πâ‡∏≥‡∏≠‡∏∑‡πà‡∏ô‡πÜ</p>
      <input type="text" name="q1Other" value={form?.q1Other ?? ''} />
      {#if form?.errors?.q1Other}<div class="error">{form.errors.q1Other}</div>{/if}
    </div>
  {/if}

  <div class="card">
    <p>Q2: ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ô‡πâ‡∏≥‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏ö‡∏±‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
    <label><input type="radio" name="q2" value="‡πÄ‡∏Ñ‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏ö‡∏±‡∏î" checked={form?.q2==='‡πÄ‡∏Ñ‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏ö‡∏±‡∏î'}> ‡πÄ‡∏Ñ‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏ö‡∏±‡∏î</label>
    <label><input type="radio" name="q2" value="‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏ö‡∏±‡∏î" checked={form?.q2==='‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏ö‡∏±‡∏î'}> ‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏ö‡∏±‡∏î</label>
    {#if form?.errors?.q2}<div class="error">{form.errors.q2}</div>{/if}
  </div>

  <div class="card">
    <p>Q3: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ô‡πâ‡∏≥</p>
    <input type="file" name="q3" accept="image/*" />
    {#if form?.errors?.q3}<div class="error">{form.errors.q3}</div>{/if}
  </div>

  <div class="card">
    <p>Q4: ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏´‡∏ô?</p>
    <input type="text" name="q4" value={form?.q4 ?? ''} />
    {#if form?.errors?.q4}<div class="error">{form.errors.q4}</div>{/if}
  </div>

  <div class="actions">
    <button type="submit">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
</div>
</form>

<form method="POST" action="?/reset" style="margin-top:1rem;">
  <button type="submit" class="reset">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
</form>

<style>
.card { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:14px; margin-bottom:12px; }
.actions { display:flex; gap:10px; }
.error { color:#b91c1c; margin-top:4px; }
.success-message { text-align:center; color:#16a34a; font-weight:bold; margin-top:20px; background:#ecfdf5; padding:10px; border-radius:8px; }
</style>
